{% extends '::'~awhs.template~'/base_dashboard.html.twig' %}

{% trans_default_domain "service" %}

{% block title %} {{ app_name }} - Dashboard{% endblock %}

{% block fastNavigation %}{% endblock %}

{% block pageHeader %}{% endblock %}


{% block extendCss %}
    <style>.sidebarHr {
            margin: 3px
        }

        ul {
            padding-left: 20px;
            word-wrap: break-word;
        }</style>{% endblock %}
{% macro bytesToSize(bytes) %}
    {% spaceless %}
        {% set kilobyte = 1024 %}
        {% set megabyte = kilobyte * 1024 %}
        {% set gigabyte = megabyte * 1024 %}
        {% set terabyte = gigabyte * 1024 %}
        {% if bytes < kilobyte %}
            {{ bytes ~ ' B' }}
        {% elseif bytes < megabyte %}
            {{ (bytes / kilobyte)|number_format(2, '.') ~ ' KB' }}
        {% elseif bytes < gigabyte %}
            {{ (bytes / megabyte)|number_format(2, '.') ~ ' MB' }}
        {% elseif bytes < terabyte %}
            {{ (bytes / gigabyte)|number_format(2, '.') ~ ' GB' }}
        {% else %}
            {{ (bytes / terabyte)|number_format(2, '.') ~ ' TB' }}
        {% endif %}
    {% endspaceless %}
{% endmacro %}
{% block menu_user_money %}{{ client.money }}{% endblock %}
{% block menu_user_lastip %}{{ client.lastip }}{% endblock %}

{% block sidebarMenuMore %}{% include 'AWHSCoreBundle:'~awhs.template~'/Server:left_menu.html.twig' with {'server': server} %}{% endblock %}

{% block content %}
    {# Permet d'afficher un menu pour chaque bundle en relation avec le serveur #}
    {% for bundle in bundles if bundle starts with 'AWHS' %}
        {% include bundle|split('\\')[2] ~ ':'~awhs.template~'/Server:dashboardMenu.html.twig' ignore missing with {'server': server} %}
    {% endfor %}
{% endblock %}